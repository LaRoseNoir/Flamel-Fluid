<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Flamel Fluid</title>
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>
<body>

  <div id="header"></div>

  <div id="land"></div>

  <div id="footer"></div>

  <div id="fenetre" tabindex="0">
    <div id="fenetreHeader">
      <h3>CrÃ©ation de Conteneur</h3>
      <button id="closeBtn" onclick="fermerFenetre()">âœ–</button>
    </div>
  </div>

  <div id="menuContextuel" class="menu-contextuel">
    <button id="btnAncrer">Ancrer</button>
    <button id="btnRenommer">Renommer</button>
    <button id="btnSupprimer">Supprimer</button>
    <button id="btnVersement">Versement</button>
    <button id="btnParametre">ParamÃ¨tre</button>
  </div>

  <button id="graphiqueBtn" title="Voir l'Ã©volution du patrimoine">ğŸ“ˆ</button>

  <div id="graphiqueFenetre">
    <div id="graphiqueHeader">
      <h2>ğŸ“Š Ã‰volution du Patrimoine Financier</h2>
      <button id="graphiqueCloseBtn">âœ–</button>
    </div>
    
    <div id="graphiqueContainer">
      <canvas id="graphiqueCanvas"></canvas>
    </div>
    
    <div id="graphiqueControls">
      <button id="enregistrerPointBtn">ğŸ“ Enregistrer point actuel</button>
      <button id="supprimerDernierPointBtn">ğŸ—™ Supprimer dernier point</button>
      <button id="effacerHistoriqueBtn">ğŸ—‘ï¸ Effacer historique</button>
    </div>
    
    <div id="graphiqueStats">
      <div class="stat-item">
        <div class="stat-label">Patrimoine actuel</div>
        <div class="stat-value" id="statActuel">0 â‚¬</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">Progression vers objectif</div>
        <div class="stat-value" id="statProgression">0%</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">Points enregistrÃ©s</div>
        <div class="stat-value" id="statPoints">0</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">Plus haut</div>
        <div class="stat-value" id="statMax">0 â‚¬</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">Plus bas</div>
        <div class="stat-value" id="statMin">0 â‚¬</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">Ã‰volution</div>
        <div class="stat-value" id="statEvolution">0 â‚¬</div>
      </div>
    </div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBKKC8H7hhTLxUQ6klqc5nlZBlbowDEi3Q",
      authDomain: "flamel-fluid.firebaseapp.com",
      projectId: "flamel-fluid",
      storageBucket: "flamel-fluid.firebasestorage.app",
      messagingSenderId: "88649327956",
      appId: "1:88649327956:web:a9cf20ed16398b950ad4c1",
      measurementId: "G-SHMPDKEFH7"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // On lie Firebase Ã  l'objet window pour que script.js puisse l'utiliser
    window.db = db;
    window.fbSetDoc = setDoc;
    window.fbGetDoc = getDoc;
    window.fbDoc = doc;

    console.log("ğŸ”¥ Firebase initialisÃ© avec succÃ¨s !");
  </script>

  <script src="script.js"></script>
</body>
</html>

